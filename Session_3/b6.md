# Use Case Chi Tiết: Đặt Hàng

## 1. Tên Use Case
**Đặt hàng**

## 2. Actor
- **Khách hàng (Primary Actor)**  
  Người sử dụng ứng dụng để chọn món ăn và tạo đơn hàng.  
- **Hệ thống (Secondary Actor)**  
  Tiếp nhận, xử lý thông tin đơn hàng và gửi thông tin đến nhà hàng.  
- **Cửa hàng / Nhà hàng (Secondary Actor)**  
  Xác nhận đơn hàng, chuẩn bị món ăn.  
- **Tài xế giao hàng (Secondary Actor)**  
  Nhận đơn hàng để giao đến khách hàng (giai đoạn sau khi đặt).

---

## 3. Mục tiêu
Khách hàng có thể **chọn món ăn mong muốn, tạo đơn hàng, và gửi yêu cầu đặt hàng** đến hệ thống để được xử lý và giao đến địa chỉ đã chọn.

---

## 4. Luồng chính (Main Flow)
1. Khách hàng mở ứng dụng và đăng nhập.  
2. Khách hàng chọn **nhà hàng** hoặc **món ăn** từ danh sách gợi ý / tìm kiếm.  
3. Khách hàng thêm món ăn vào **giỏ hàng**.  
4. Khách hàng kiểm tra lại giỏ hàng (số lượng, giá tiền, ghi chú, địa chỉ giao hàng).  
5. Khách hàng chọn **phương thức thanh toán** (tiền mặt / ví điện tử / thẻ).  
6. Hệ thống hiển thị **xác nhận đơn hàng** (thông tin, tổng tiền, địa chỉ).  
7. Khách hàng bấm **Xác nhận đặt hàng**.  
8. Hệ thống tạo đơn hàng, gửi thông tin đến nhà hàng.  
9. Nhà hàng xác nhận đơn và bắt đầu chuẩn bị món.  
10. Hệ thống cập nhật trạng thái đơn hàng cho khách hàng (“Đã xác nhận”, “Đang chuẩn bị”).  

---

## 5. Luồng lỗi (Alternative / Error Flow)
| **Tình huống lỗi** | **Mô tả** | **Hành động xử lý** |
|--------------------|-----------|----------------------|
| 1. Mất kết nối Internet | Ứng dụng không thể gửi yêu cầu đặt hàng | Hiển thị thông báo “Kết nối mạng không ổn định. Vui lòng thử lại.” |
| 2. Món ăn đã hết hàng | Nhà hàng từ chối vì món không còn | Hệ thống thông báo cho khách và gợi ý món khác hoặc cho phép đặt lại. |
| 3. Thanh toán thất bại | Giao dịch thẻ hoặc ví điện tử lỗi | Hệ thống hiển thị thông báo lỗi và cho phép chọn lại phương thức thanh toán. |
| 4. Nhà hàng không phản hồi | Quá thời gian xác nhận đơn | Hệ thống tự động hủy đơn và hoàn tiền (nếu có). |

